<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>References: runtime.work</title>
<link href="../css/light-v0.1.8-preview.css" rel="stylesheet">
<script src="../jvs/golds-v0.1.8-preview.js"></script>
<body><div>

<pre><code><span style="font-size:x-large;">var <b><a href="../pkg/runtime.html">runtime</a>.<a href="../src/runtime/mgc.go.html#line-946">work</a></b></span>

201 uses:

	runtime <i>(current package)</i>
		<a href="../src/runtime/mgc.go.html#line-192">mgc.go#L192</a>: 	<b>work</b>.startSema = 1
		<a href="../src/runtime/mgc.go.html#line-193" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-193">#L193</a>: 	<b>work</b>.markDoneSema = 1
		<a href="../src/runtime/mgc.go.html#line-194" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-194">#L194</a>: 	lockInit(&amp;<b>work</b>.sweepWaiters.lock, lockRankSweepWaiters)
		<a href="../src/runtime/mgc.go.html#line-195" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-195">#L195</a>: 	lockInit(&amp;<b>work</b>.assistQueue.lock, lockRankAssistQueue)
		<a href="../src/runtime/mgc.go.html#line-196" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-196">#L196</a>: 	lockInit(&amp;<b>work</b>.wbufSpans.lock, lockRankWbufSpans)
		<a href="../src/runtime/mgc.go.html#line-243" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-243">#L243</a>: 		gcWaitOnMark(atomic.Load(&amp;<b>work</b>.cycles))
		<a href="../src/runtime/mgc.go.html#line-474" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-474">#L474</a>: 			<b>work</b>.initialHeapLive>>20, "->",
		<a href="../src/runtime/mgc.go.html#line-561" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-561">#L561</a>: 	if <b>work</b>.userForced {
		<a href="../src/runtime/mgc.go.html#line-834" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-834">#L834</a>: 			print("runtime: next_gc=", memstats.next_gc, " heap_marked=", memstats.heap_marked, " heap_live=", memstats.heap_live, " initialHeapLive=", <b>work</b>.initialHeapLive, "triggerRatio=", triggerRatio, " minTrigger=", minTrigger, "\n")
		<a href="../src/runtime/mgc.go.html#line-946" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-946">#L946</a>: var <b>work</b> struct {
		<a href="../src/runtime/mgc.go.html#line-1091" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1091">#L1091</a>: 	n := atomic.Load(&amp;<b>work</b>.cycles)
		<a href="../src/runtime/mgc.go.html#line-1106" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1106">#L1106</a>: 	for atomic.Load(&amp;<b>work</b>.cycles) == n+1 && sweepone() != ^uintptr(0) {
		<a href="../src/runtime/mgc.go.html#line-1122" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1122">#L1122</a>: 	for atomic.Load(&amp;<b>work</b>.cycles) == n+1 && atomic.Load(&mheap_.sweepers) != 0 {
		<a href="../src/runtime/mgc.go.html#line-1130" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1130">#L1130</a>: 	cycle := atomic.Load(&amp;<b>work</b>.cycles)
		<a href="../src/runtime/mgc.go.html#line-1142" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1142">#L1142</a>: 		lock(&amp;<b>work</b>.sweepWaiters.lock)
		<a href="../src/runtime/mgc.go.html#line-1143" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1143">#L1143</a>: 		nMarks := atomic.Load(&amp;<b>work</b>.cycles)
		<a href="../src/runtime/mgc.go.html#line-1150" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1150">#L1150</a>: 			unlock(&amp;<b>work</b>.sweepWaiters.lock)
		<a href="../src/runtime/mgc.go.html#line-1156" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1156">#L1156</a>: 		<b>work</b>.sweepWaiters.list.push(getg())
		<a href="../src/runtime/mgc.go.html#line-1157" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1157">#L1157</a>: 		goparkunlock(&amp;<b>work</b>.sweepWaiters.lock, waitReasonWaitForGCCycle, traceEvGoBlock, 1)
		<a href="../src/runtime/mgc.go.html#line-1219" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1219">#L1219</a>: 		return int32(t.n-<b>work</b>.cycles) > 0
		<a href="../src/runtime/mgc.go.html#line-1259" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1259">#L1259</a>: 	semacquire(&amp;<b>work</b>.startSema)
		<a href="../src/runtime/mgc.go.html#line-1262" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1262">#L1262</a>: 		semrelease(&amp;<b>work</b>.startSema)
		<a href="../src/runtime/mgc.go.html#line-1267" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1267">#L1267</a>: 	<b>work</b>.userForced = trigger.kind == gcTriggerCycle
		<a href="../src/runtime/mgc.go.html#line-1300" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1300">#L1300</a>: 	<b>work</b>.stwprocs, <b>work</b>.maxprocs = gomaxprocs, gomaxprocs
		<a href="../src/runtime/mgc.go.html#line-1301" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1301">#L1301</a>: 	if <b>work</b>.stwprocs > ncpu {
		<a href="../src/runtime/mgc.go.html#line-1304" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1304">#L1304</a>: 		<b>work</b>.stwprocs = ncpu
		<a href="../src/runtime/mgc.go.html#line-1306" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1306">#L1306</a>: 	<b>work</b>.heap0 = atomic.Load64(&memstats.heap_live)
		<a href="../src/runtime/mgc.go.html#line-1307" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1307">#L1307</a>: 	<b>work</b>.pauseNS = 0
		<a href="../src/runtime/mgc.go.html#line-1308" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1308">#L1308</a>: 	<b>work</b>.mode = mode
		<a href="../src/runtime/mgc.go.html#line-1311" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1311">#L1311</a>: 	<b>work</b>.tSweepTerm = now
		<a href="../src/runtime/mgc.go.html#line-1312" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1312">#L1312</a>: 	<b>work</b>.pauseStart = now
		<a href="../src/runtime/mgc.go.html#line-1326" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1326">#L1326</a>: 	<b>work</b>.cycles++
		<a href="../src/runtime/mgc.go.html#line-1329" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1329">#L1329</a>: 	<b>work</b>.heapGoal = memstats.next_gc
		<a href="../src/runtime/mgc.go.html#line-1382" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1382">#L1382</a>: 		<b>work</b>.pauseNS += now - <b>work</b>.pauseStart
		<a href="../src/runtime/mgc.go.html#line-1383" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1383">#L1383</a>: 		<b>work</b>.tMark = now
		<a href="../src/runtime/mgc.go.html#line-1399" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1399">#L1399</a>: 	semrelease(&amp;<b>work</b>.startSema)
		<a href="../src/runtime/mgc.go.html#line-1447" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1447">#L1447</a>: 	semacquire(&amp;<b>work</b>.markDoneSema)
		<a href="../src/runtime/mgc.go.html#line-1456" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1456">#L1456</a>: 	if !(gcphase == _GCmark &amp;&amp; <b>work</b>.nwait == <b>work</b>.nproc && !gcMarkWorkAvailable(nil)) {
		<a href="../src/runtime/mgc.go.html#line-1457" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1457">#L1457</a>: 		semrelease(&amp;<b>work</b>.markDoneSema)
		<a href="../src/runtime/mgc.go.html#line-1541" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1541">#L1541</a>: 	<b>work</b>.tMarkTerm = now
		<a href="../src/runtime/mgc.go.html#line-1542" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1542">#L1542</a>: 	<b>work</b>.pauseStart = now
		<a href="../src/runtime/mgc.go.html#line-1600" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1600">#L1600</a>: 				<b>work</b>.pauseNS += now - <b>work</b>.pauseStart
		<a href="../src/runtime/mgc.go.html#line-1618" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1618">#L1618</a>: 	semrelease(&amp;<b>work</b>.markDoneSema)
		<a href="../src/runtime/mgc.go.html#line-1639" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1639">#L1639</a>: 	<b>work</b>.heap1 = memstats.heap_live
		<a href="../src/runtime/mgc.go.html#line-1667" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1667">#L1667</a>: 		<b>work</b>.heap2 = <b>work</b>.bytesMarked
		<a href="../src/runtime/mgc.go.html#line-1684" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1684">#L1684</a>: 		gcSweep(<b>work</b>.mode)
		<a href="../src/runtime/mgc.go.html#line-1712" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1712">#L1712</a>: 	<b>work</b>.pauseNS += now - <b>work</b>.pauseStart
		<a href="../src/runtime/mgc.go.html#line-1713" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1713">#L1713</a>: 	<b>work</b>.tEnd = now
		<a href="../src/runtime/mgc.go.html#line-1716" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1716">#L1716</a>: 	memstats.pause_ns[memstats.numgc%uint32(len(memstats.pause_ns))] = uint64(<b>work</b>.pauseNS)
		<a href="../src/runtime/mgc.go.html#line-1718" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1718">#L1718</a>: 	memstats.pause_total_ns += uint64(<b>work</b>.pauseNS)
		<a href="../src/runtime/mgc.go.html#line-1721" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1721">#L1721</a>: 	sweepTermCpu := int64(<b>work</b>.stwprocs) * (<b>work</b>.tMark - <b>work</b>.tSweepTerm)
		<a href="../src/runtime/mgc.go.html#line-1725" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1725">#L1725</a>: 	markTermCpu := int64(<b>work</b>.stwprocs) * (<b>work</b>.tEnd - <b>work</b>.tMarkTerm)
		<a href="../src/runtime/mgc.go.html#line-1727" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1727">#L1727</a>: 	<b>work</b>.totaltime += cycleCpu
		<a href="../src/runtime/mgc.go.html#line-1731" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1731">#L1731</a>: 	memstats.gc_cpu_fraction = float64(<b>work</b>.totaltime) / float64(totalCpu)
		<a href="../src/runtime/mgc.go.html#line-1737" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1737">#L1737</a>: 	if <b>work</b>.userForced {
		<a href="../src/runtime/mgc.go.html#line-1742" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1742">#L1742</a>: 	lock(&amp;<b>work</b>.sweepWaiters.lock)
		<a href="../src/runtime/mgc.go.html#line-1744" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1744">#L1744</a>: 	injectglist(&amp;<b>work</b>.sweepWaiters.list)
		<a href="../src/runtime/mgc.go.html#line-1745" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1745">#L1745</a>: 	unlock(&amp;<b>work</b>.sweepWaiters.lock)
		<a href="../src/runtime/mgc.go.html#line-1785" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1785">#L1785</a>: 			" @", string(itoaDiv(sbuf[:], uint64(<b>work</b>.tSweepTerm-runtimeInitTime)/1e6, 3)), "s ",
		<a href="../src/runtime/mgc.go.html#line-1787" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1787">#L1787</a>: 		prev := <b>work</b>.tSweepTerm
		<a href="../src/runtime/mgc.go.html#line-1788" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1788">#L1788</a>: 		for i, ns := range []int64{<b>work</b>.tMark, <b>work</b>.tMarkTerm, <b>work</b>.tEnd} {
		<a href="../src/runtime/mgc.go.html#line-1806" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1806">#L1806</a>: 			<b>work</b>.heap0&gt;&gt;20, "-&gt;", <b>work</b>.heap1&gt;&gt;20, "-&gt;", <b>work</b>.heap2>>20, " MB, ",
		<a href="../src/runtime/mgc.go.html#line-1807" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1807">#L1807</a>: 			<b>work</b>.heapGoal>>20, " MB goal, ",
		<a href="../src/runtime/mgc.go.html#line-1808" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1808">#L1808</a>: 			<b>work</b>.maxprocs, " P")
		<a href="../src/runtime/mgc.go.html#line-1809" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1809">#L1809</a>: 		if <b>work</b>.userForced {
		<a href="../src/runtime/mgc.go.html#line-1840" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1840">#L1840</a>: 			notetsleepg(&amp;<b>work</b>.bgMarkReady, -1)
		<a href="../src/runtime/mgc.go.html#line-1841" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1841">#L1841</a>: 			noteclear(&amp;<b>work</b>.bgMarkReady)
		<a href="../src/runtime/mgc.go.html#line-1858" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1858">#L1858</a>: 	<b>work</b>.nproc = ^uint32(0)
		<a href="../src/runtime/mgc.go.html#line-1859" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1859">#L1859</a>: 	<b>work</b>.nwait = ^uint32(0)
		<a href="../src/runtime/mgc.go.html#line-1885" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1885">#L1885</a>: 	notewakeup(&amp;<b>work</b>.bgMarkReady)
		<a href="../src/runtime/mgc.go.html#line-1939" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1939">#L1939</a>: 		decnwait := atomic.Xadd(&amp;<b>work</b>.nwait, -1)
		<a href="../src/runtime/mgc.go.html#line-1940" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1940">#L1940</a>: 		if decnwait == <b>work</b>.nproc {
		<a href="../src/runtime/mgc.go.html#line-1941" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-1941">#L1941</a>: 			println("runtime: work.nwait=", decnwait, "work.nproc=", <b>work</b>.nproc)
		<a href="../src/runtime/mgc.go.html#line-2001" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2001">#L2001</a>: 		incnwait := atomic.Xadd(&amp;<b>work</b>.nwait, +1)
		<a href="../src/runtime/mgc.go.html#line-2002" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2002">#L2002</a>: 		if incnwait &gt; <b>work</b>.nproc {
		<a href="../src/runtime/mgc.go.html#line-2004" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2004">#L2004</a>: 				"work.nwait=", incnwait, "work.nproc=", <b>work</b>.nproc)
		<a href="../src/runtime/mgc.go.html#line-2010" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2010">#L2010</a>: 		if incnwait == <b>work</b>.nproc && !gcMarkWorkAvailable(nil) {
		<a href="../src/runtime/mgc.go.html#line-2039" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2039">#L2039</a>: 	if !<b>work</b>.full.empty() {
		<a href="../src/runtime/mgc.go.html#line-2042" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2042">#L2042</a>: 	if <b>work</b>.markrootNext &lt; <b>work</b>.markrootJobs {
		<a href="../src/runtime/mgc.go.html#line-2059" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2059">#L2059</a>: 	<b>work</b>.tstart = start_time
		<a href="../src/runtime/mgc.go.html#line-2062" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2062">#L2062</a>: 	if <b>work</b>.full != 0 || <b>work</b>.markrootNext &lt; <b>work</b>.markrootJobs {
		<a href="../src/runtime/mgc.go.html#line-2063" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2063">#L2063</a>: 		print("runtime: full=", hex(<b>work</b>.full), " next=", <b>work</b>.markrootNext, " jobs=", <b>work</b>.markrootJobs, " nDataRoots=", <b>work</b>.nDataRoots, " nBSSRoots=", <b>work</b>.nBSSRoots, " nSpanRoots=", <b>work</b>.nSpanRoots, " nStackRoots=", <b>work</b>.nStackRoots, "\n")
		<a href="../src/runtime/mgc.go.html#line-2072" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2072">#L2072</a>: 	if <b>work</b>.full != 0 {
		<a href="../src/runtime/mgc.go.html#line-2125" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2125">#L2125</a>: 	memstats.heap_marked = <b>work</b>.bytesMarked
		<a href="../src/runtime/mgc.go.html#line-2130" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2130">#L2130</a>: 	memstats.heap_live = <b>work</b>.bytesMarked
		<a href="../src/runtime/mgc.go.html#line-2231" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2231">#L2231</a>: 	<b>work</b>.bytesMarked = 0
		<a href="../src/runtime/mgc.go.html#line-2232" class="path-duplicate">mgc.go</a><a href="../src/runtime/mgc.go.html#line-2232">#L2232</a>: 	<b>work</b>.initialHeapLive = atomic.Load64(&memstats.heap_live)
		<a href="../src/runtime/mgcmark.go.html#line-61">mgcmark.go#L61</a>: 	<b>work</b>.nFlushCacheRoots = 0
		<a href="../src/runtime/mgcmark.go.html#line-68" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-68">#L68</a>: 	<b>work</b>.nDataRoots = 0
		<a href="../src/runtime/mgcmark.go.html#line-69" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-69">#L69</a>: 	<b>work</b>.nBSSRoots = 0
		<a href="../src/runtime/mgcmark.go.html#line-74" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-74">#L74</a>: 		if nDataRoots &gt; <b>work</b>.nDataRoots {
		<a href="../src/runtime/mgcmark.go.html#line-75" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-75">#L75</a>: 			<b>work</b>.nDataRoots = nDataRoots
		<a href="../src/runtime/mgcmark.go.html#line-81" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-81">#L81</a>: 		if nBSSRoots &gt; <b>work</b>.nBSSRoots {
		<a href="../src/runtime/mgcmark.go.html#line-82" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-82">#L82</a>: 			<b>work</b>.nBSSRoots = nBSSRoots
		<a href="../src/runtime/mgcmark.go.html#line-99" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-99">#L99</a>: 		<b>work</b>.nSpanRoots = len(mheap_.markArenas) * (pagesPerArena / pagesPerSpanRoot)
		<a href="../src/runtime/mgcmark.go.html#line-106" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-106">#L106</a>: 		<b>work</b>.nSpanRoots = mheap_.sweepSpans[mheap_.sweepgen/2%2].numBlocks()
		<a href="../src/runtime/mgcmark.go.html#line-116" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-116">#L116</a>: 	<b>work</b>.nStackRoots = int(atomic.Loaduintptr(&allglen))
		<a href="../src/runtime/mgcmark.go.html#line-118" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-118">#L118</a>: 	<b>work</b>.markrootNext = 0
		<a href="../src/runtime/mgcmark.go.html#line-119" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-119">#L119</a>: 	<b>work</b>.markrootJobs = uint32(fixedRootCount + <b>work</b>.nFlushCacheRoots + <b>work</b>.nDataRoots + <b>work</b>.nBSSRoots + <b>work</b>.nSpanRoots + <b>work</b>.nStackRoots)
		<a href="../src/runtime/mgcmark.go.html#line-125" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-125">#L125</a>: 	if <b>work</b>.markrootNext &lt; <b>work</b>.markrootJobs {
		<a href="../src/runtime/mgcmark.go.html#line-126" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-126">#L126</a>: 		print(<b>work</b>.markrootNext, " of ", <b>work</b>.markrootJobs, " markroot jobs done\n")
		<a href="../src/runtime/mgcmark.go.html#line-133" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-133">#L133</a>: 	for i := 0; i &lt; <b>work</b>.nStackRoots; i++ {
		<a href="../src/runtime/mgcmark.go.html#line-164" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-164">#L164</a>: 	baseData := baseFlushCache + uint32(<b>work</b>.nFlushCacheRoots)
		<a href="../src/runtime/mgcmark.go.html#line-165" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-165">#L165</a>: 	baseBSS := baseData + uint32(<b>work</b>.nDataRoots)
		<a href="../src/runtime/mgcmark.go.html#line-166" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-166">#L166</a>: 	baseSpans := baseBSS + uint32(<b>work</b>.nBSSRoots)
		<a href="../src/runtime/mgcmark.go.html#line-167" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-167">#L167</a>: 	baseStacks := baseSpans + uint32(<b>work</b>.nSpanRoots)
		<a href="../src/runtime/mgcmark.go.html#line-168" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-168">#L168</a>: 	end := baseStacks + uint32(<b>work</b>.nStackRoots)
		<a href="../src/runtime/mgcmark.go.html#line-213" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-213">#L213</a>: 			gp.waitsince = <b>work</b>.tstart
		<a href="../src/runtime/mgcmark.go.html#line-623" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-623">#L623</a>: 	decnwait := atomic.Xadd(&amp;<b>work</b>.nwait, -1)
		<a href="../src/runtime/mgcmark.go.html#line-624" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-624">#L624</a>: 	if decnwait == <b>work</b>.nproc {
		<a href="../src/runtime/mgcmark.go.html#line-625" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-625">#L625</a>: 		println("runtime: work.nwait =", decnwait, "work.nproc=", <b>work</b>.nproc)
		<a href="../src/runtime/mgcmark.go.html#line-650" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-650">#L650</a>: 	incnwait := atomic.Xadd(&amp;<b>work</b>.nwait, +1)
		<a href="../src/runtime/mgcmark.go.html#line-651" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-651">#L651</a>: 	if incnwait &gt; <b>work</b>.nproc {
		<a href="../src/runtime/mgcmark.go.html#line-653" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-653">#L653</a>: 			"work.nproc=", <b>work</b>.nproc)
		<a href="../src/runtime/mgcmark.go.html#line-657" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-657">#L657</a>: 	if incnwait == <b>work</b>.nproc && !gcMarkWorkAvailable(nil) {
		<a href="../src/runtime/mgcmark.go.html#line-677" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-677">#L677</a>: 	lock(&amp;<b>work</b>.assistQueue.lock)
		<a href="../src/runtime/mgcmark.go.html#line-678" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-678">#L678</a>: 	list := <b>work</b>.assistQueue.q.popList()
		<a href="../src/runtime/mgcmark.go.html#line-680" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-680">#L680</a>: 	unlock(&amp;<b>work</b>.assistQueue.lock)
		<a href="../src/runtime/mgcmark.go.html#line-690" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-690">#L690</a>: 	lock(&amp;<b>work</b>.assistQueue.lock)
		<a href="../src/runtime/mgcmark.go.html#line-695" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-695">#L695</a>: 		unlock(&amp;<b>work</b>.assistQueue.lock)
		<a href="../src/runtime/mgcmark.go.html#line-700" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-700">#L700</a>: 	oldList := <b>work</b>.assistQueue.q
		<a href="../src/runtime/mgcmark.go.html#line-701" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-701">#L701</a>: 	<b>work</b>.assistQueue.q.pushBack(gp)
		<a href="../src/runtime/mgcmark.go.html#line-708" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-708">#L708</a>: 		<b>work</b>.assistQueue.q = oldList
		<a href="../src/runtime/mgcmark.go.html#line-712" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-712">#L712</a>: 		unlock(&amp;<b>work</b>.assistQueue.lock)
		<a href="../src/runtime/mgcmark.go.html#line-716" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-716">#L716</a>: 	goparkunlock(&amp;<b>work</b>.assistQueue.lock, waitReasonGCAssistWait, traceEvGoBlockGC, 2)
		<a href="../src/runtime/mgcmark.go.html#line-731" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-731">#L731</a>: 	if <b>work</b>.assistQueue.q.empty() {
		<a href="../src/runtime/mgcmark.go.html#line-742" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-742">#L742</a>: 	lock(&amp;<b>work</b>.assistQueue.lock)
		<a href="../src/runtime/mgcmark.go.html#line-743" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-743">#L743</a>: 	for !<b>work</b>.assistQueue.q.empty() && scanBytes > 0 {
		<a href="../src/runtime/mgcmark.go.html#line-744" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-744">#L744</a>: 		gp := <b>work</b>.assistQueue.q.pop()
		<a href="../src/runtime/mgcmark.go.html#line-766" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-766">#L766</a>: 			<b>work</b>.assistQueue.q.pushBack(gp)
		<a href="../src/runtime/mgcmark.go.html#line-776" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-776">#L776</a>: 	unlock(&amp;<b>work</b>.assistQueue.lock)
		<a href="../src/runtime/mgcmark.go.html#line-1102" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-1102">#L1102</a>: 	if <b>work</b>.markrootNext &lt; <b>work</b>.markrootJobs {
		<a href="../src/runtime/mgcmark.go.html#line-1105" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-1105">#L1105</a>: 			job := atomic.Xadd(&amp;<b>work</b>.markrootNext, +1) - 1
		<a href="../src/runtime/mgcmark.go.html#line-1106" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-1106">#L1106</a>: 			if job &gt;= <b>work</b>.markrootJobs {
		<a href="../src/runtime/mgcmark.go.html#line-1124" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-1124">#L1124</a>: 		if <b>work</b>.full == 0 {
		<a href="../src/runtime/mgcmark.go.html#line-1202" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-1202">#L1202</a>: 		if <b>work</b>.full == 0 {
		<a href="../src/runtime/mgcmark.go.html#line-1227" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-1227">#L1227</a>: 			if <b>work</b>.markrootNext &lt; <b>work</b>.markrootJobs {
		<a href="../src/runtime/mgcmark.go.html#line-1228" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-1228">#L1228</a>: 				job := atomic.Xadd(&amp;<b>work</b>.markrootNext, +1) - 1
		<a href="../src/runtime/mgcmark.go.html#line-1229" class="path-duplicate">mgcmark.go</a><a href="../src/runtime/mgcmark.go.html#line-1229">#L1229</a>: 				if job &lt; <b>work</b>.markrootJobs {
		<a href="../src/runtime/mgcwork.go.html#line-183">mgcwork.go#L183</a>: 	lockWithRankMayAcquire(&amp;<b>work</b>.wbufSpans.lock, lockRankWbufSpans)
		<a href="../src/runtime/mgcwork.go.html#line-346" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-346">#L346</a>: 		atomic.Xadd64(&amp;<b>work</b>.bytesMarked, int64(w.bytesMarked))
		<a href="../src/runtime/mgcwork.go.html#line-424" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-424">#L424</a>: 	if <b>work</b>.empty != 0 {
		<a href="../src/runtime/mgcwork.go.html#line-425" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-425">#L425</a>: 		b = (*workbuf)(<b>work</b>.empty.pop())
		<a href="../src/runtime/mgcwork.go.html#line-432" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-432">#L432</a>: 	lockWithRankMayAcquire(&amp;<b>work</b>.wbufSpans.lock, lockRankWbufSpans)
		<a href="../src/runtime/mgcwork.go.html#line-437" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-437">#L437</a>: 		if <b>work</b>.wbufSpans.free.first != nil {
		<a href="../src/runtime/mgcwork.go.html#line-438" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-438">#L438</a>: 			lock(&amp;<b>work</b>.wbufSpans.lock)
		<a href="../src/runtime/mgcwork.go.html#line-439" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-439">#L439</a>: 			s = <b>work</b>.wbufSpans.free.first
		<a href="../src/runtime/mgcwork.go.html#line-441" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-441">#L441</a>: 				<b>work</b>.wbufSpans.free.remove(s)
		<a href="../src/runtime/mgcwork.go.html#line-442" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-442">#L442</a>: 				<b>work</b>.wbufSpans.busy.insert(s)
		<a href="../src/runtime/mgcwork.go.html#line-444" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-444">#L444</a>: 			unlock(&amp;<b>work</b>.wbufSpans.lock)
		<a href="../src/runtime/mgcwork.go.html#line-454" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-454">#L454</a>: 			lock(&amp;<b>work</b>.wbufSpans.lock)
		<a href="../src/runtime/mgcwork.go.html#line-455" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-455">#L455</a>: 			<b>work</b>.wbufSpans.busy.insert(s)
		<a href="../src/runtime/mgcwork.go.html#line-456" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-456">#L456</a>: 			unlock(&amp;<b>work</b>.wbufSpans.lock)
		<a href="../src/runtime/mgcwork.go.html#line-479" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-479">#L479</a>: 	<b>work</b>.empty.push(&b.node)
		<a href="../src/runtime/mgcwork.go.html#line-488" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-488">#L488</a>: 	<b>work</b>.full.push(&b.node)
		<a href="../src/runtime/mgcwork.go.html#line-495" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-495">#L495</a>: 	b := (*workbuf)(<b>work</b>.full.pop())
		<a href="../src/runtime/mgcwork.go.html#line-521" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-521">#L521</a>: 	lock(&amp;<b>work</b>.wbufSpans.lock)
		<a href="../src/runtime/mgcwork.go.html#line-522" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-522">#L522</a>: 	if <b>work</b>.full != 0 {
		<a href="../src/runtime/mgcwork.go.html#line-528" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-528">#L528</a>: 	<b>work</b>.empty = 0
		<a href="../src/runtime/mgcwork.go.html#line-529" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-529">#L529</a>: 	<b>work</b>.wbufSpans.free.takeAll(&amp;<b>work</b>.wbufSpans.busy)
		<a href="../src/runtime/mgcwork.go.html#line-530" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-530">#L530</a>: 	unlock(&amp;<b>work</b>.wbufSpans.lock)
		<a href="../src/runtime/mgcwork.go.html#line-537" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-537">#L537</a>: 	lock(&amp;<b>work</b>.wbufSpans.lock)
		<a href="../src/runtime/mgcwork.go.html#line-538" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-538">#L538</a>: 	if gcphase != _GCoff || <b>work</b>.wbufSpans.free.isEmpty() {
		<a href="../src/runtime/mgcwork.go.html#line-539" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-539">#L539</a>: 		unlock(&amp;<b>work</b>.wbufSpans.lock)
		<a href="../src/runtime/mgcwork.go.html#line-545" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-545">#L545</a>: 			span := <b>work</b>.wbufSpans.free.first
		<a href="../src/runtime/mgcwork.go.html#line-549" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-549">#L549</a>: 			<b>work</b>.wbufSpans.free.remove(span)
		<a href="../src/runtime/mgcwork.go.html#line-553" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-553">#L553</a>: 	more := !<b>work</b>.wbufSpans.free.isEmpty()
		<a href="../src/runtime/mgcwork.go.html#line-554" class="path-duplicate">mgcwork.go</a><a href="../src/runtime/mgcwork.go.html#line-554">#L554</a>: 	unlock(&amp;<b>work</b>.wbufSpans.lock)
</code></pre><pre id="footer">
<table><tr><td><img src="../png/go101-twitter.png"></td>
<td>The pages are generated with <a href="https://go101.org/article/tool-golds.html"><b>Golds</b></a> <i>v0.1.8-preview</i>. (GOOS=linux GOARCH=amd64)
<b>Golds</b> is a <a href="https://go101.org">Go 101</a> project and developed by <a href="https://tapirgames.com">Tapir Liu</a>.
PR and bug reports are welcome and can be submitted to <a href="https://github.com/go101/golds">the issue list</a>.
Please follow <a href="https://twitter.com/go100and1">@Go100and1</a> (reachable from the left QR code) to get the latest news of <b>Golds</b>.</td></tr></table
</pre>
</div></body></html>